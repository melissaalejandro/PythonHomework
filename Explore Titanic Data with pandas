import numpy as np

import pandas as pd # your code to import the pandas package with an alias name of "pd"

df = pd.read_csv('./titanic_train.csv') 

len(df.index) 
# or use
# df.shape[0] 

df.head(n=10) 

df.info() #view of non-missing value and data type

df.describe() #summary of numeric variables

print(df.notnull().sum())

# Sampling exercise: create an sample df_row_sampling dataframe by indexing/selecting all the even row (row 0,2,4...) from dataframe df. At the same time drop the Name column. For Name variable, in the future modeling effort, may not be the best predictor of Survivalship. 

df_row_sampling = df.iloc[:: 2]
df_row_sampling.drop('Name', axis=1) 

# Create an sample df_age_sex_sp dataframe (from orignal df dataframe) with filtering records (rows) for age larger than 50 and all females
df_age_sex_sp = df.query("Age > 50 & Sex == 'female'")
df_age_sex_sp


df["Tol_Family_No"] = df["Parch"] + df["SibSp"]
df.head(n=5)


df.groupby(['Sex', 'Survived'])["Survived"].size()



#With defined age group levels of Age_level as below
Age_bin = [i for i in range(int(min(df.Age)), 100, 20)]
print(Age_bin)

# you are not required to use levels defined in 'Age_level` create a new column as of "Age_grp".


df['Age_group'] = pd.cut(df['Age'], bins=[0, 20, 40, 60, 80])
df.Age_group.unique()

print(df.shape)
df.head()



Survived_by_AgeSex = pd.pivot_table(data=df,index=['Age_group'], columns=['Sex'], aggfunc={'Survived':np.sum})
print(Survived_by_AgeSex)


df1 = pd.read_csv('titanic_test.csv')
df1.head(2)

print(df.columns)
df1.columns


df1.insert(1, "Survived", "-1") 

df1


#take a look again at the `df1` with the additional column
print(df1.shape)
df1.head()


df_full = pd.concat([df,df1])
df_full


print(df_full.shape)
df_full.tail()


df_full=df_full.set_index('PassengerId')

print(df_full.shape)
df_full.head()





























